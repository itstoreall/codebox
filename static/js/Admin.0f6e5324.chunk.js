(this.webpackJsonpcodebox=this.webpackJsonpcodebox||[]).push([[3],{105:function(e,n,t){e.exports={Information:"Information_Information__29eRd",Information__btn:"Information_Information__btn__2QVzF",Information__listWrap:"Information_Information__listWrap__1ICll",Information__title:"Information_Information__title__2ouS9",Information__currentlist:"Information_Information__currentlist__9v-hJ",Information__item:"Information_Information__item__2TSkr",Information__itemKey:"Information_Information__itemKey__Vszyb",Information__generalList:"Information_Information__generalList__3lcxG",Information__generalValueWrap:"Information_Information__generalValueWrap__1G_MX",Information__generalKey:"Information_Information__generalKey__2QNgG",Information__generalValue:"Information_Information__generalValue__2p8hD"}},106:function(e,n,t){e.exports={AdminDashboard:"Admin_AdminDashboard__17kOn",AdminDashboard__loadingWrap:"Admin_AdminDashboard__loadingWrap__1e3MK",AdminDashboard__contentWrap:"Admin_AdminDashboard__contentWrap__1X285",Login:"Admin_Login__RzspV",Login__form:"Admin_Login__form__3at5p",Login__title:"Admin_Login__title__3ooQ7",Login__error:"Admin_Login__error__2V6s4",Login__toggleLink:"Admin_Login__toggleLink__3DYnw",Display:"Admin_Display__drj3C",Controls:"Admin_Controls__3KazU",ViewList__list:"Admin_ViewList__list__5Ir-h",ViewList__item:"Admin_ViewList__item__3nrvH",ViewList__card:"Admin_ViewList__card__L-7Dv",ViewList__cardModal:"Admin_ViewList__cardModal__3Mp7x",ViewList__cardRow:"Admin_ViewList__cardRow__1uLee",card__contentRow:"Admin_card__contentRow__i5UNy",cardModal__contentRow:"Admin_cardModal__contentRow__23jFl",cardModal__btnWrap:"Admin_cardModal__btnWrap__J1GCV"}},107:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t(108),a=t(56),r=Object(i.a)((function(){return{viewTitle:{marginBottom:30,fontSize:24,color:a.a.primeryBlackColor}}}))},109:function(e,n,t){"use strict";t.d(n,"a",(function(){return I}));var i=t(114),a=t.n(i),r=t(6),o=t(108),c=t(56),s=Object(o.a)((function(){return{History:{display:"flex",alignItems:"center",width:"calc(100% - 50px)"},homeButton:{cursor:"pointer",fill:c.a.primaryBlackColor50,"&:hover svg":{fill:c.a.primaryBlackColor75}},homeIcon:{fill:c.a.primaryBlackColor50},fromButton:{fontSize:14,cursor:"pointer","& span":{color:c.a.primaryBlackColor50},"&:hover span":{color:c.a.primaryBlackColor75}},codebox:{fontSize:14,color:c.a.primaryBlackColor50,"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},arrowIcon:{marginLeft:10,marginRight:10,width:14,height:15,fill:c.a.primaryBlackColor25,"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},currentPathname:{color:c.a.primaryBlackColor50,fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}}})),l=t(32),d=t(3),u=function(){var e=s();return Object(d.jsx)("span",{className:e.arrowIcon,children:Object(d.jsx)("svg",{width:"14",height:"14",children:Object(d.jsx)("use",{href:l.a+"#icon-arrow-right"})})})},p=function(e){var n=e.path,t=s();return Object(d.jsx)("span",{className:"/"===n?t.homeIcon:null,children:Object(d.jsx)("svg",{width:"13",height:"13",children:Object(d.jsx)("use",{href:l.a+"#icon-home"})})})},m=Object(r.g)((function(e){var n=e.props,t=e.history,i=s(),a=n.stateFrom,r=n.fromPathname,o=n.createPathname;return Object(d.jsx)("button",{type:"button",className:i.fromButton,onClick:function(){return t.push(a)},children:o(r)})})),j=Object(r.g)((function(e){var n=e.history,t=e.location,i=s();return"/"!==t.pathname?Object(d.jsx)("button",{type:"button",className:i.homeButton,onClick:function(){return n.push("/")},children:Object(d.jsx)(p,{path:t.pathname})}):Object(d.jsx)(p,{path:t.pathname})})),b=Object(r.g)((function(e){e.history;var n,t,i=e.location,a=s(),r=null===(n=i.state)||void 0===n?void 0:n.from,o=null===(t=i.state)||void 0===t?void 0:t.from.pathname.substr(1),c=i.pathname.substr(1),l=function(e){return e&&Object(d.jsx)("span",{className:e===c?a.currentPathname:e===o&&null,children:(null===e||void 0===e?void 0:e.includes("/"))?null===e||void 0===e?void 0:e.split("/")[1]:e})};return Object(d.jsxs)("div",{className:a.History,children:[Object(d.jsx)(j,{}),Object(d.jsx)(u,{}),"/"!==i.pathname?Object(d.jsx)(m,{props:{stateFrom:r,fromPathname:o,createPathname:l}}):Object(d.jsx)("span",{className:a.codebox,children:"codebox"}),o&&Object(d.jsx)(u,{}),l(c)]})})),h=t(57),f=t(22),g=t(2),_=t(17),v=t(105),O=t.n(v),x=function(e){var n=e.showInformation,t=e.toggleInformationModal;return n?Object(d.jsx)("button",{className:O.a.Information__btn,onClick:t,children:Object(d.jsx)("svg",{width:"14",height:"14",children:Object(d.jsx)("use",{href:l.a+"#icon-close"})})}):Object(d.jsx)("button",{className:O.a.Information__btn,onClick:t,children:Object(d.jsx)("svg",{width:"18",height:"18",children:Object(d.jsx)("use",{href:l.a+"#icon-info"})})})},w=function(e){var n,t=e.information;return Object(d.jsxs)("ul",{className:O.a.Information__currentlist,children:[Object(d.jsxs)("li",{className:O.a.Information__item,children:[Object(d.jsx)("span",{className:O.a.Information__itemKey,children:"View: "}),0!==t.nesting?null===t||void 0===t||null===(n=t.view)||void 0===n?void 0:n.title:"Home"]}),2===t.nesting&&Object(d.jsxs)("li",{className:O.a.Information__item,children:[Object(d.jsx)("span",{className:O.a.Information__itemKey,children:"Feature: "}),t.feature.title]})]})},k=function(){var e=Object(g.useContext)(_.a).localState;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{className:O.a.Information__title,children:"General:"}),Object(d.jsx)("ul",{className:O.a.Information__generalList,children:Object(d.jsx)("li",{className:O.a.Information__generalItem,children:Object(d.jsxs)("div",{className:O.a.Information__generalValueWrap,children:[Object(d.jsxs)("span",{className:O.a.Information__generalKey,children:["Views:"," ",Object(d.jsx)("span",{className:O.a.Information__generalValue,children:e.quantity.views})]}),Object(d.jsxs)("span",{className:O.a.Information__generalKey,children:["Features:"," ",Object(d.jsx)("span",{className:O.a.Information__generalValue,children:e.quantity.features-1})]})]})})})]})},y=function(e){var n=e.information;return Object(d.jsxs)("div",{className:O.a.Information__listWrap,children:[Object(d.jsx)(w,{information:n}),Object(d.jsx)(k,{})]})},N=t(58),C=Object(r.g)((function(e){var n=e.location,t=Object(g.useState)(!1),i=Object(f.a)(t,2),a=i[0],r=i[1],o=Object(g.useState)(null),c=Object(f.a)(o,2),s=c[0],l=c[1],u=Object(g.useContext)(_.a),p=u.localState,m=u.setLocalState,j=u.views,b=Object(N.a)(n,j);Object(g.useEffect)((function(){return l(b)}),[n.pathname]),Object(g.useEffect)((function(){return m(Object(h.a)(Object(h.a)({},p),s))}),[s]);return Object(d.jsxs)("div",{className:O.a.Information,children:[Object(d.jsx)(x,{showInformation:a,toggleInformationModal:function(){return r(!a)}}),a&&Object(d.jsx)(y,{information:s})]})})),I=function(){return Object(d.jsxs)("div",{className:a.a.infoPanel,children:[Object(d.jsx)(b,{}),Object(d.jsx)(C,{})]})}},110:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t(115),a=t.n(i),r=t(3),o=function(e){var n=e.children;return Object(r.jsx)("article",{className:a.a.Article,children:n})}},114:function(e,n,t){e.exports={infoPanel:"InfoPanel_infoPanel__2Wnih"}},115:function(e,n,t){e.exports={Article:"Article_Article__3XQP8"}},161:function(e,n,t){"use strict";t.r(n);var i,a,r,o,c,s,l,d,u,p,m,j,b=t(6),h=t(109),f=t(107),g=t(110),_=t(22),v=t(2),O=t(154),x=t(106),w=t.n(x),k=t(111),y=t(160),N=Object(y.a)(i||(i=Object(k.a)(["\n  fragment AllViews on View {\n    title\n    path\n  }\n"]))),C=Object(y.a)(a||(a=Object(k.a)(["\n  ","\n  query {\n    getAllViews {\n      id\n      ...AllViews\n    }\n  }\n"])),N),I=Object(y.a)(r||(r=Object(k.a)(["\n  ","\n  query getView($id: ID) {\n    getView(id: $id) {\n      id\n      ...AllViews\n    }\n  }\n"])),N),V=t(3),S=function(e){var n=e.children;return Object(V.jsx)("div",{className:w.a.Display,children:n})},A=function(e){var n=e.children;return Object(V.jsx)("div",{className:w.a.Controls,children:n})},L=t(112),R=t.n(L),D=t(113),G=t(153),z=t(116),B=t(56),M=z.a.input(o||(o=Object(k.a)(["\n  position: ",";\n  top: ",";\n  right: ",";\n  margin: ",";\n  padding: ",";\n  width: ",";\n  text-align: ",";\n  color: ",";\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: 4px;\n\n  :focus {\n    padding: ",";\n    border: 2px solid ",";\n    outline: none;\n  }\n\n  ::placeholder,\n  ::-webkit-input-placeholder {\n    color: ",";\n  }\n  :-ms-input-placeholder {\n    color: ",";\n  }\n\n  :focus::-webkit-input-placeholder {\n    color: transparent;\n  }\n\n  :focus::-moz-placeholder {\n    color: transparent;\n  }\n\n  :focus:-moz-placeholder {\n    color: transparent;\n  }\n\n  :focus:-ms-input-placeholder {\n    color: transparent;\n  }\n"])),(function(e){return e.position}),(function(e){return e.top}),(function(e){return e.right}),(function(e){return e.margin}),(function(e){return e.padding}),(function(e){return e.width}),(function(e){return e.textAlign}),(function(e){return e.color}),B.a.primaryWhiteColor,B.a.primaryTextColor,(function(e){return function(e){return e.split("px").filter(Boolean).map((function(e){return"".concat(+e-1,"px")})).join(" ")}(e.padding)}),B.a.activeLinkColor,B.a.primaryBlackColor25,B.a.primaryBlackColor25),F=z.a.input(c||(c=Object(k.a)(["\n  position: ",";\n  top: ",";\n  right: ",";\n  margin: ",";\n  padding: ",";\n  width: ",";\n  height: ",";\n  text-align: ",";\n  color: ",";\n  white-space: ",";\n  overflow: ",";\n  text-overflow: ",";\n  background-color: ",";\n  border: ",";\n  outline: ",";\n"])),(function(e){return e.position}),(function(e){return e.top}),(function(e){return e.right}),(function(e){return e.margin}),(function(e){return e.padding}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.textAlign}),(function(e){return e.color}),(function(e){return e.whiteSpace}),(function(e){return e.overflow}),(function(e){return e.textOverflow}),(function(e){return e.backgroundColor}),(function(e){return e.color}),(function(e){return e.color})),W=z.a.button(s||(s=Object(k.a)(["\n  background-color: ",";\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n"])),B.a.primaryTextColor),T=Object(z.a)(W)(l||(l=Object(k.a)(["\n  position: ",";\n  top: ",";\n  right: ",";\n  display: ",";\n  padding: ",";\n  margin: ",";\n  width: ",";\n  color: ",";\n  white-space: ",";\n  background-color: ",";\n  border-radius: 4px;\n\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(e){return e.position}),(function(e){return e.top}),(function(e){return e.right}),(function(e){return e.display}),(function(e){return e.padding}),(function(e){return e.margin}),(function(e){return e.width}),(function(e){return e.color}),(function(e){return e.whiteSpace}),(function(e){return e.backgroundColor}),B.a.BG__GreyBlue),$=Object(z.a)(W)(d||(d=Object(k.a)(["\n  position: ",";\n  top: ",";\n  right: ",";\n  display: ",";\n  flex-direction: ",";\n  justify-content: ",";\n  align-items: ",";\n  display: ",";\n  padding: ",";\n  margin: ",";\n  width: ",";\n  height: ",";\n  font-size: ",";\n  color: ",";\n  white-space: ",";\n  background-color: ",";\n  border-radius: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(e){return e.position}),(function(e){return e.top}),(function(e){return e.right}),(function(e){return e.display}),(function(e){return e.flexDirection}),(function(e){return e.justifyContent}),(function(e){return e.alignItems}),(function(e){return e.display}),(function(e){return e.padding}),(function(e){return e.margin}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.fontSize}),(function(e){return e.color}),(function(e){return e.whiteSpace}),(function(e){return e.backgroundColor}),(function(e){return e.borderRadius}),B.a.BG__GreyBlue),q=function(e){var n=e.className,t=void 0===n?"admin-primary-input":n,i=e.position,a=e.top,r=void 0===a?0:a,o=e.right,c=void 0===o?0:o,s=e.margin,l=e.padding,d=void 0===l?"9px 9px":l,u=e.width,p=e.textAlign,m=e.color,j=void 0===m?B.a.primaryBlackColor75:m,b=e.type,h=void 0===b?"text":b,f=e.placeholder,g=e.value,_=e.onChange,v=e.children;return Object(V.jsx)(M,{className:t,position:i,top:r,right:c,margin:s,padding:d,width:u,textAlign:p,color:j,type:h,placeholder:f,value:g,onChange:_,children:v})},E=function(e){var n=e.className,t=void 0===n?"admin-modal-input":n,i=e.position,a=e.top,r=void 0===a?0:a,o=e.right,c=void 0===o?0:o,s=e.margin,l=e.padding,d=e.width,u=e.height,p=e.textAlign,m=e.color,j=e.whiteSpace,b=e.overflow,h=e.textOverflow,f=e.backgroundColor,g=e.border,_=e.outline,v=e.type,O=void 0===v?"text":v,x=e.placeholder,w=e.value,k=e.onChange,y=e.children;return Object(V.jsx)(F,{className:t,position:i,top:r,right:c,margin:s,padding:l,width:d,height:u,textAlign:p,color:m,whiteSpace:j,overflow:b,textOverflow:h,backgroundColor:f,border:g,outline:_,type:O,placeholder:x,value:w,onChange:k,children:y})},P=function(e){var n=e.className,t=void 0===n?"admin-primary-btn":n,i=e.position,a=e.top,r=void 0===a?0:a,o=e.right,c=void 0===o?0:o,s=e.display,l=e.padding,d=void 0===l?"10px 20px":l,u=e.margin,p=e.width,m=e.color,j=void 0===m?"white":m,b=e.whiteSpace,h=void 0===b?"nowrap":b,f=e.type,g=void 0===f?"button":f,_=e.onClick,v=e.children;return Object(V.jsx)(T,{className:t,position:i,top:r,right:c,display:s,padding:d,margin:u,width:p,color:j,whiteSpace:h,type:g,onClick:_,children:v})},K=function(e){var n=e.className,t=void 0===n?"admin-round-btn":n,i=e.position,a=e.top,r=void 0===a?0:a,o=e.right,c=void 0===o?0:o,s=e.display,l=void 0===s?"flex":s,d=e.flexDirection,u=e.justifyContent,p=void 0===u?"center":u,m=e.alignItems,j=void 0===m?"center":m,b=e.padding,h=e.margin,f=e.width,g=void 0===f?"20px":f,_=e.height,v=void 0===_?"20px":_,O=e.color,x=void 0===O?"white":O,w=e.whiteSpace,k=void 0===w?"nowrap":w,y=e.borderRadius,N=void 0===y?"50%":y,C=e.type,I=void 0===C?"button":C,S=e.onClick,A=e.children;return Object(V.jsx)($,{className:t,position:i,top:r,right:c,display:l,flexDirection:d,justifyContent:p,alignItems:j,padding:b,margin:h,width:g,height:v,color:x,whiteSpace:k,borderRadius:N,type:I,onClick:S,children:A})},U=function(e){var n=e.className,t=void 0===n?"admin-round-btn":n,i=e.position,a=e.top,r=void 0===a?0:a,o=e.right,c=void 0===o?0:o,s=e.display,l=e.flexDirection,d=e.justifyContent,u=void 0===d?"center":d,p=e.alignItems,m=void 0===p?"center":p,j=e.padding,b=void 0===j?0:j,h=e.margin,f=e.width,g=e.height,_=e.fontSize,v=e.color,O=void 0===v?"white":v,x=e.whiteSpace,w=void 0===x?"nowrap":x,k=e.borderRadius,y=e.type,N=void 0===y?"button":y,C=e.onClick,I=e.children;return Object(V.jsx)($,{className:t,position:i,top:r,right:c,display:s,flexDirection:l,justifyContent:u,alignItems:m,padding:b,margin:h,width:f,height:g,fontSize:_,color:O,whiteSpace:w,borderRadius:k,type:N,onClick:C,children:I})},H=Object(y.a)(u||(u=Object(k.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      id\n      username\n      email\n      token\n      role\n      createdAt\n    }\n  }\n"]))),J=function(e){var n=e.setCodeboxToken,t=Object(v.useState)("guest"),i=Object(_.a)(t,2),a=i[0],r=i[1],o=Object(v.useState)("Guest"),c=Object(_.a)(o,2),s=c[0],l=c[1],d=Object(v.useState)(""),u=Object(_.a)(d,2),p=u[0],m=u[1],j=Object(v.useState)(""),b=Object(_.a)(j,2),h=b[0],f=b[1],g=Object(G.a)(H,{variables:{username:s,password:p}}),O=Object(_.a)(g,1)[0],x=function(){var e=Object(D.a)(R.a.mark((function e(t){var i,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O({variables:{username:s,password:p}});case 4:i=e.sent,a=i.data,console.log("login token:",a.login),a&&(localStorage.setItem("codeboxToken",a.login.token),n(a.login.token)),l(""),m(""),f(""),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("ERROR in GqlFormAndList > login:",e.t0.message),f(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}(),k=function(e){console.log("role:",e),r(e),l("admin"===e?"Admin":"guest"===e&&"Guest")};return Object(V.jsx)("div",{className:w.a.Login,children:Object(V.jsxs)("form",{className:w.a.Login__form,onSubmit:function(e){return x(e)},children:[Object(V.jsx)("h2",{className:w.a.Login__title,children:"guest"===a?"Guest":"admin"===a&&"Admin"}),"guest"===a?Object(V.jsx)(q,{className:"admin-login-password-input",padding:"15px",margin:"0 0 30px",width:"100%",textAlign:"center",placeholder:"password",value:p,onChange:function(e){m(e.target.value),f("")}}):"admin"===a&&Object(V.jsx)(q,{className:"admin-login-password-input",padding:"15px",margin:"0 0 30px",width:"100%",textAlign:"center",placeholder:"password",value:p,onChange:function(e){return m(e.target.value)}}),Object(V.jsx)("span",{className:w.a.Login__error,children:h}),Object(V.jsx)(P,{className:"admin-login-btn",display:"block",padding:"15px",margin:"0 0 30px",width:"100%",type:"submit",children:"Login"}),"guest"===a?Object(V.jsx)("sapn",{className:w.a.Login__toggleLink,onClick:function(){return k("admin")},children:"Administrator"}):"admin"===a&&Object(V.jsx)("sapn",{className:w.a.Login__toggleLink,onClick:function(){return k("guest")},children:"Guest"})]})})},Q=function(e){var n=e.setCodeboxToken;return Object(V.jsx)(P,{className:"admin-logout-btn",position:"absolute",top:"-62px",right:0,onClick:function(){localStorage.setItem("codeboxToken",""),n("")},children:"Logout"})},X=function(){var e=Object(v.useState)(""),n=Object(_.a)(e,2),t=n[0],i=n[1],a=Object(v.useState)(""),r=Object(_.a)(a,2),o=r[0],c=r[1],s=Object(O.a)(I,{variables:{id:t}}),l=s.data,d=s.loading;return o&&console.log("gqlView:",o),Object(V.jsxs)("div",{children:[Object(V.jsx)("h2",{children:"One view form"}),o&&Object(V.jsxs)("span",{children:["Get view: ",o]}),Object(V.jsxs)("form",{className:w.a.GetOneView__form,onSubmit:function(e){return function(e){e.preventDefault(),!d&&c(null===l||void 0===l?void 0:l.getView.title),i("")}(e)},children:[Object(V.jsx)(q,{className:"admin-get-one-view-id-input",placeholder:"id",value:t,onChange:function(e){return i(e.target.value)}}),Object(V.jsx)(P,{className:"admin-get-one-view-btn",type:"submit",children:"Get one"})]})]})},Y=t(32),Z=function(e){var n=e.toggleModal;return Object(V.jsx)(K,{className:"admin-delete-view-button-btn",margin:"0 0 10px 0",borderRadius:"4px",onClick:function(){return n(!0)},children:Object(V.jsx)("svg",{width:"9",height:"9",fill:"white",children:Object(V.jsx)("use",{href:Y.a+"#icon-edit"})})})},ee=Object(y.a)(p||(p=Object(k.a)(["\n  mutation createView($input: CreateViewInput) {\n    createView(input: $input) {\n      id\n      title\n      path\n    }\n  }\n"]))),ne=Object(y.a)(m||(m=Object(k.a)(["\n  mutation deleteView($id: ID) {\n    deleteView(id: $id) {\n      id\n    }\n  }\n"]))),te=Object(y.a)(j||(j=Object(k.a)(["\n  mutation updateView($id: ID, $input: UpdateViewInput) {\n    updateView(id: $id, input: $input) {\n      id\n      title\n      path\n    }\n  }\n"]))),ie=function(e){var n=e.id,t=e.refetch,i=Object(G.a)(ne,{variables:{id:n}}),a=Object(_.a)(i,1)[0],r=function(){var e=Object(D.a)(R.a.mark((function e(i){var r,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.preventDefault(),console.log("id:",n),e.prev=2,e.next=5,a();case 5:r=e.sent,o=r.data,console.log("deleted id !!!",o.deleteView),t(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("ERROR in GqlFormAndList > deleteView:",e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(V.jsx)(K,{className:"admin-delete-view-button-btn",borderRadius:"4px",onClick:function(e){return r(e)},children:Object(V.jsx)("svg",{width:"9",height:"9",fill:"white",children:Object(V.jsx)("use",{href:Y.a+"#icon-close"})})})},ae=function(e){var n=e.view,t=e.refetch,i=Object(v.useState)(!1),a=Object(_.a)(i,2),r=a[0],o=a[1],c=Object(v.useState)(""),s=Object(_.a)(c,2),l=s[0],d=s[1],u=Object(v.useState)(""),p=Object(_.a)(u,2),m=p[0],j=p[1];Object(v.useEffect)((function(){d(n.title),j(n.path)}),[]),console.log("showModal --\x3e",r);var b=Object(G.a)(te,{variables:{id:n.id,input:{title:l,path:m}}}),h=Object(_.a)(b,1)[0],f=function(){var e=Object(D.a)(R.a.mark((function e(i){var a,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.preventDefault(),console.log("id:",n.id),e.prev=2,e.next=5,h();case 5:a=e.sent,r=a.data,console.log("updateView !!!",r.updateView),t(),g(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("ERROR in GqlFormAndList > updateView:",e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n){return e.apply(this,arguments)}}(),g=function(e){console.log("value",e),o(e)};return Object(V.jsx)(V.Fragment,{children:r?Object(V.jsx)("div",{className:w.a.ViewList__cardModal,children:Object(V.jsxs)("form",{className:w.a.GetOneView__form,onSubmit:function(e){return f(e)},children:[Object(V.jsxs)("div",{className:w.a.cardModal__contentRow,children:["id: ",n.id]}),Object(V.jsxs)("div",{className:w.a.cardModal__contentRow,children:["title: ",Object(V.jsx)(E,{className:"admin-update-view-title-btn",padding:0,width:"250px",color:B.a.activeLinkColor,backgroundColor:"transparent",outline:"none",placeholder:"Title",value:l,onChange:function(e){return d(e.target.value)}})]}),Object(V.jsxs)("div",{className:w.a.cardModal__contentRow,children:["path: ",Object(V.jsx)(E,{className:"admin-update-view-path-btn",padding:0,width:"250px",color:B.a.activeLinkColor,border:"none",backgroundColor:"transparent",placeholder:"path",value:m,onChange:function(e){return j(e.target.value)}})]}),Object(V.jsxs)("div",{className:w.a.cardModal__btnWrap,children:[Object(V.jsx)(U,{className:"admin-update-view-btn",display:"block",padding:"3px 30px",margin:"0 10px 0 0",borderRadius:"2px",fontSize:"12px",type:"submit",onClick:function(e){return f(e)},children:"Update"}),Object(V.jsx)(U,{className:"admin-update-view-close-btn",padding:"3px 30px",borderRadius:"2px",fontSize:"12px",type:"submit",onClick:function(){return g(!1)},children:"Cancel"})]})]})}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)("div",{className:w.a.ViewList__card,children:[Object(V.jsxs)("div",{className:w.a.card__contentRow,children:["id: ",null===n||void 0===n?void 0:n.id]}),Object(V.jsxs)("div",{className:w.a.card__contentRow,children:["title: ",null===n||void 0===n?void 0:n.title]}),Object(V.jsxs)("div",{className:w.a.card__contentRow,children:["path: ",null===n||void 0===n?void 0:n.path]})]}),Object(V.jsxs)("div",{children:[Object(V.jsx)(Z,{toggleModal:g}),Object(V.jsx)(ie,{id:null===n||void 0===n?void 0:n.id,refetch:t})]})]})})},re=function(e){var n=e.allViews,t=e.refetch;return Object(V.jsx)("ul",{className:w.a.ViewList__list,children:null===n||void 0===n?void 0:n.map((function(e){return Object(V.jsx)("li",{className:w.a.ViewList__item,children:Object(V.jsx)(ae,{view:e,refetch:t})},e.path)}))})},oe=function(e){var n=e.views,t=e.loading,i=e.refetch,a=Object(v.useState)(),r=Object(_.a)(a,2),o=r[0],c=r[1];return Object(v.useEffect)((function(){return!t&&c(n.getAllViews)}),[n]),t&&console.log("loading......"),o&&console.log("allViews",o),Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(re,{allViews:o,refetch:i})})},ce=function(e){var n=e.refetch,t=Object(v.useState)(""),i=Object(_.a)(t,2),a=i[0],r=i[1],o=Object(v.useState)(""),c=Object(_.a)(o,2),s=c[0],l=c[1],d=Object(G.a)(ee),u=Object(_.a)(d,1)[0],p=function(){var e=Object(D.a)(R.a.mark((function e(t){var i,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u({variables:{input:{title:a,path:s}}});case 4:i=e.sent,o=i.data,console.log("new view !!!",o.createView),n(),r(""),l(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("ERROR in GqlFormAndList > addView:",e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n){return e.apply(this,arguments)}}();return Object(V.jsxs)("div",{children:[Object(V.jsx)("h2",{children:"Create form"}),Object(V.jsxs)("form",{className:w.a.GetOneView__form,onSubmit:function(e){return p(e)},children:[Object(V.jsx)(q,{className:"admin-create-view-title-input",placeholder:"Title",value:a,onChange:function(e){return r(e.target.value)}}),Object(V.jsx)(q,{className:"admin-create-view-path-input",placeholder:"path",value:s,onChange:function(e){return l(e.target.value)}}),Object(V.jsx)(P,{className:"admin-create-view-btn",type:"sybmit",children:"Create"})]})]})},se=function(e){var n=e.refetch,t=Object(v.useState)(""),i=Object(_.a)(t,2),a=i[0],r=i[1],o=Object(G.a)(ne,{variables:{id:a}}),c=Object(_.a)(o,1)[0],s=function(){var e=Object(D.a)(R.a.mark((function e(t){var i,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,c();case 4:i=e.sent,a=i.data,console.log("deletedViewId !!!",a.deleteView),n(),r(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("ERROR in GqlFormAndList > deleteView:",e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(V.jsxs)("div",{children:[Object(V.jsx)("h2",{children:"Delete form"}),Object(V.jsxs)("form",{className:w.a.GetOneView__form,onSubmit:function(e){return s(e)},children:[Object(V.jsx)(q,{className:"admin-delete-view-id-input",placeholder:"id",value:a,onChange:function(e){return r(e.target.value)}}),Object(V.jsx)(P,{className:"admin-delete-view-btn",type:"submit",children:"Delete"})]})]})},le=function(e){var n=e.refetch,t=Object(v.useState)(""),i=Object(_.a)(t,2),a=i[0],r=i[1],o=Object(v.useState)(""),c=Object(_.a)(o,2),s=c[0],l=c[1],d=Object(v.useState)(""),u=Object(_.a)(d,2),p=u[0],m=u[1],j=Object(G.a)(te,{variables:{id:a,input:{title:s,path:p}}}),b=Object(_.a)(j,1)[0],h=function(){var e=Object(D.a)(R.a.mark((function e(t){var i,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b();case 4:i=e.sent,a=i.data,console.log("updateView !!!",a.updateView),n(),r(""),l(""),m(""),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("ERROR in GqlFormAndList > updateView:",e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}();return Object(V.jsxs)("div",{children:[Object(V.jsx)("h2",{children:"Update form"}),Object(V.jsxs)("form",{className:w.a.GetOneView__form,onSubmit:function(e){return h(e)},children:[Object(V.jsx)(q,{className:"admin-update-view-id-btn",placeholder:"id",value:a,onChange:function(e){return r(e.target.value)}}),Object(V.jsx)(q,{className:"admin-update-view-title-btn",placeholder:"Title",value:s,onChange:function(e){return l(e.target.value)}}),Object(V.jsx)(q,{className:"admin-update-view-path-btn",placeholder:"path",value:p,onChange:function(e){return m(e.target.value)}}),Object(V.jsx)(P,{className:"admin-update-view-btn",type:"submit",children:"Update"})]})]})},de=function(){var e=Object(v.useState)(""),n=Object(_.a)(e,2),t=n[0],i=n[1],a=Object(O.a)(C),r=a.data,o=a.loading,c=(a.error,a.refetch);return Object(v.useEffect)((function(){return i(localStorage.getItem("codeboxToken"))}),[]),Object(V.jsx)("div",{className:w.a.AdminDashboard,children:o?Object(V.jsx)("div",{className:w.a.AdminDashboard__loadingWrap,children:Object(V.jsx)("span",{children:"Heroku server: zzz.. \u2606(\u25e1.\u25d4)\u2605 ..."})}):Object(V.jsx)(V.Fragment,{children:t?Object(V.jsxs)("div",{className:w.a.AdminDashboard__contentWrap,children:[Object(V.jsx)(Q,{setCodeboxToken:i}),Object(V.jsx)(S,{children:Object(V.jsx)(oe,{views:r,loading:o,refetch:c})}),Object(V.jsxs)(A,{children:[Object(V.jsx)(X,{}),Object(V.jsx)(ce,{refetch:c}),Object(V.jsx)(se,{refetch:c}),Object(V.jsx)(le,{refetch:c})]})]}):Object(V.jsx)(J,{setCodeboxToken:i})})})};n.default=Object(b.g)((function(){var e=Object(f.a)();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(h.a,{}),Object(V.jsxs)(g.a,{children:[Object(V.jsx)("h1",{className:e.viewTitle,children:"Admin"}),Object(V.jsx)(de,{})]})]})}))}}]);
//# sourceMappingURL=Admin.0f6e5324.chunk.js.map